import{a as E}from"./chunk-G2NH5EB7.js";import{a as F}from"./chunk-XB6PQKIB.js";import{a as P}from"./chunk-SGXU4PYT.js";import{a as k}from"./chunk-XNR3Y4KN.js";import"./chunk-NMJRHXIR.js";import{a as w}from"./chunk-Y3KLVRP5.js";import{a as O}from"./chunk-YMOXGVMI.js";import{Ec as B,Fa as _,Fb as h,Ib as C,Kb as c,L as f,Oc as S,Pa as r,Pc as R,Wc as D,Xc as x,Y as v,Ya as n,Yb as I,cb as y,hb as l,ka as b,la as u,vb as i,wb as p,xb as g,yb as s}from"./chunk-Z7HY6CCI.js";function j(o,t){o&1&&(p(0,"div",7)(1,"p",8),I(2,"No blogs found in this category."),g()())}function M(o,t){if(o&1&&(p(0,"div",9),s(1,"app-blog-cart",10),g()),o&2){let e=t.$implicit;r(),i("blog",e)}}function T(o,t){if(o&1){let e=h();p(0,"div",3)(1,"div",7)(2,"app-pagination",11),C("pageChange",function(d){b(e);let m=c();return u(m.onPageChange(d))}),g()()()}if(o&2){let e=c();r(2),i("current_page",e.apiResponse.current_page)("total",e.apiResponse.total)("per_page",e.apiResponse.per_page)}}var L=class o{constructor(t,e,a,d,m){this.seoService=t;this.dataService=e;this._ActivatedRoute=a;this.cdr=d;this.platformId=m}backgroundImage="../../../assets/image/banner.webp";listBlog=[];hasLoaded=!1;categoryId=null;apiResponse={current_page:1,total:0,from:0,to:0,per_page:15};ngOnInit(){this.seoService.updateSeoData({},"scrappe voyager - Blog Category","Explore blogs by category.","../../../assets/image/scrappe-voyager-logo.webp"),this._ActivatedRoute.params.subscribe(t=>{this.categoryId=t.id,this.getListBlog()})}getListBlog(t=1){this.categoryId&&this.dataService.getBlogCategoriesDetails(Number(this.categoryId)).pipe(v(e=>{this.listBlog=e.data?.blogs?.data||e.data?.blogs||[],console.log("listBlog by category",this.listBlog),this.apiResponse={current_page:e.data?.blogs?.current_page||e.data?.current_page||1,total:e.data?.blogs?.total||e.data?.total||0,from:e.data?.blogs?.from||e.data?.from||0,to:e.data?.blogs?.to||e.data?.to||0,per_page:e.data?.blogs?.per_page||e.data?.per_page||15},this.hasLoaded=!0,x(this.platformId)?setTimeout(()=>{this.cdr.markForCheck()},0):this.cdr.detectChanges()}),f(()=>{this.cdr.markForCheck()})).subscribe({next:()=>{},error:e=>{console.error("Error fetching blogs by category:",e),this.listBlog=[],this.hasLoaded=!0,this.cdr.markForCheck()}})}onPageChange(t){this.getListBlog(t)}static \u0275fac=function(e){return new(e||o)(n(w),n(k),n(O),n(B),n(_))};static \u0275cmp=y({type:o,selectors:[["app-blog-category"]],decls:7,vars:6,consts:[[3,"title","subtitle","backgroundImage"],[1,"blog-category-container"],[1,"container"],[1,"row"],["class","col-12",4,"ngIf"],["class","col-md-4",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-12"],[1,"no-blogs"],[1,"col-md-4"],[3,"blog"],[3,"pageChange","current_page","total","per_page"]],template:function(e,a){e&1&&(s(0,"app-banner",0),p(1,"div",1)(2,"div",2)(3,"div",3),l(4,j,3,0,"div",4)(5,M,2,1,"div",5),g(),l(6,T,3,3,"div",6),g()()),e&2&&(i("title","Blog Category")("subtitle","Explore our blog posts by category")("backgroundImage",a.backgroundImage),r(4),i("ngIf",a.hasLoaded&&a.listBlog.length===0),r(),i("ngForOf",a.listBlog),r(),i("ngIf",a.apiResponse.total>a.apiResponse.per_page))},dependencies:[D,S,R,F,E,P],styles:[".blog-category-container[_ngcontent-%COMP%]{padding:60px 0}.blog-category-container[_ngcontent-%COMP%]   .no-blogs[_ngcontent-%COMP%]{text-align:center;padding:40px;font-size:1.2rem;color:#666}"]})};export{L as BlogCategory};
